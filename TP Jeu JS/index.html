<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Jeu en JS</title>
</head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script type="text/javascript">



    var x=250;
    var y=250;
    var vity=1.2;
    var vitx=4;
    var sauter=0;

    var oldsauter=0;
    var xobs=475;
    var yobs=800;
    var compteur=0;



    $(document).ready( function()
        {
            var canvas1 = document.getElementById('monCanvas');
            var context = canvas1.getContext('2d');

            // Création du ballon
            var ballon = new Image();
            ballon.src = "ballon.png";

            // Création d'une barre
            var barre = new Image();
            barre.src = "barre.png";

            // Création du background
            var background = new Image();
            background.src = "background.png";

            // Timer
            var montimer =setInterval(function () {

                // Mise en place des images dans le canvas
                context.drawImage(background, 0, 0);    // Background
                context.drawImage(ballon, x, y);    // Ballon
                context.drawImage(barre, 0, -25);   // Obstacle haut
                context.drawImage(barre, 0, 475);   // Obstacle bas

                // Déplacement du ballon
                // TODO: Modifier pour prendre en compte les niveaux
                x += vitx;
                y += vity;

                if (x > 475) { // Si le ballon touche le bord droit
                    vitx = - vitx;
                    vitx += 0.25;
                    console.log('Touche à droite x = ' + x); // Débogage
                }

                if (x < -25) { // Si le ballon touche le bord gauche
                    vitx = - vitx;
                    vitx += 0.25;
                    console.log('Touche à gauche x = ' + x); // Débogage
                }

                if (y > 450) { // La balle touche en bas
                    vity = (-vity*0.8);
                    y = 450;
                    compteur = 0;
                    console.log('Touche en bas y = ' + y); // Débogage
                }
                if (y < 25) { // La balle touche en haut
                    vity = (-vity*0.8);
                    y = 25;
                    compteur = 0;
                    console.log('Touche en haut y = ' + y); // Débogage
                }

            }, 10);
        }

    );

</script>
<body>
    <canvas width='500' height='500' id="monCanvas">
</html>
</body>
</html>